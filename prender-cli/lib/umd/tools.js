!function(n){"function"==typeof define&&define.amd?define(n):n()}(function(){"use strict";const o=require("fs"),s=require("path"),r=require("compressing");function u(n){return!!o.existsSync(n)||(u(s.dirname(n))?(o.mkdirSync(n),!0):void 0)}module.exports={wait:async function(e){return new Promise(n=>{setTimeout(n,e)})},isInstalled:function(n){try{return require.resolve(n),!0}catch(n){return!1}},mkdirsSync:u,createFile:function(e,i,r){u(e),"string"!=typeof r&&(r=JSON.stringify(r)),o.existsSync(s.join(e,i))?o.unlink(s.join(e,i),function(n){o.writeFileSync(s.join(e,i),r,{})}):o.writeFileSync(s.join(e,i),r,{})},copyFile:function e(i,r,t){let n=o.statSync(i);var c=n.isFile();if(t.includes(s.parse(i).name))return!0;if(c)o.copyFileSync(i,r);else{u(r);let n=o.readdirSync(i);n.forEach(n=>{e(s.join(i,n),s.join(r,n),t)})}},compress:function(i){return new Promise((n,e)=>{r.zip.compressDir(i,i+".zip",{ignoreBase:!0}).then(()=>{n("ok")}).catch(n=>{e(n)})})},deleteFolder:function e(i){let n=[];o.existsSync(i)&&(o.statSync(i).isFile()?o.unlinkSync(i):(n=o.readdirSync(i),n.forEach(function(n){n=i+"/"+n,o.statSync(n).isDirectory()?e(n):o.unlinkSync(n)}),o.rmdirSync(i)))}}});
